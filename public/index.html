<!DOCTYPE html>

<html>
  <head>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  </head>
  <body>
    <div id="header">
      <img class="logo" src="http://rosegeorge.com/site/wp-content/uploads/2010/11/TED_logo_rgb1.png"/>
    </div>
    <div id="list"></div>
    <div id="details">
      <a target="_blank"><div class="detail-title"></div></a>
      <div class="detail-publish-info">
        <span class="detail-author"></span> | 
        <span class="detail-date"></span>
      </div>
      <div class="detail-content"></div>
      <div class="detail-video">
      <iframe id="iframe" width="560" height="315" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div>
    </div>
  </body>
</html>

<style>

body {
  text-rendering: optimizeLegibility;
  color: #333;
  margin: 0;
  padding: 0;
  background-color: #FAFAFA;
  position: relative;
  word-wrap: break-word;
  font-family:Open Sans Condensed;
  overflow:hidden;
}

a {
  text-decoration: none;
}

#header {
  position: fixed;
  width: 100%;
  height: 60px;
  background-color: black;
}

#details {
  width:70%;
  background-color:lightgrey;
  height:100%;
  overflow:hidden;
  margin-top:60px;
  position:fixed;
  top:0px;
  right:0px;
}

#list {
  padding: 0;
  background-color: #F4F4F4;
  display: block;
  width:30%;
  overflow:scroll;
  height:100%;
  position:fixed;
  top:60px;
  left:0px;
}

.logo {
  width:120px;
  height:40px;
  margin:10px;
}

.list-container {
  padding:0;
  margin:0;
  list-style: none;
  margin-bottom:60px;
}

.entry-container {
  border-bottom: 1px dotted #878787;
  padding:10px;
}

.entry-container:hover {
  background-color: #FAFAFA;
  cursor:pointer;
}

.title {
  color:#ff2b06;
  text-decoration:none;
  font-weight:bold;
  font-size:16px;
  padding-top:10px;
}

.date {
 font-size:14px;
  padding-top:5px;
  color:darkgray;
}

.content-snippet {
  padding-top:10px;
  color:grey; 
}

.detail-title {
  color:#ff2b06;
  width:80%;
  margin-left:auto;
  margin-right:auto;
  display:block;
  font-size:40px;
  font-weight:bold;
  margin-top:20px;
  text-align:center;
}

.detail-title:hover {
  color:black;
}

.detail-publish-info {
  width:100%;
  text-align:center;
  margin-top:20px; 
  color:darkgray;
  font-size:18px;
  font-weight:bold;  
}

.detail-content {
  display:block;
  width:80%;
  margin-left:auto;
  margin-right:auto;
  text-align:left;
  color:gray;
  font-size:25px;
  margin-top:20px;
}

.detail-video {
  display:block;
  margin-left:auto;
  margin-right:auto;
  width:50%;
  margin-top:30px;
}

</style>

<script type="text/javascript">

google.load("feeds", "1");
var result;

function initialize() {
  var feed = new google.feeds.Feed("http://feeds.feedburner.com/tedtalks_video");
  feed.setNumEntries(100);
  feed.load(function(result) {
    if (!result.error) {
      window.result = result;
      var container = document.getElementById('list');
      var list_container = document.createElement("ul");
      list_container.className = 'list-container';

      for (var i = 0; i < result.feed.entries.length; i++) {
        var entry = result.feed.entries[i];
        var entry_container = document.createElement("li");
        entry_container.setAttribute("data-order", i);
        entry_container.className = 'entry-container';
        var title = document.createElement("div");
        title.className = 'title';
        var date = document.createElement("div");
        date.className = 'date';
        var description = document.createElement("div");
        description.className = 'content-snippet';
        title.innerHTML = entry.title;
        date.innerHTML = entry.publishedDate;
        description.innerHTML = entry.contentSnippet;
        container.appendChild(list_container);
        list_container.appendChild(entry_container);
        entry_container.appendChild(title);
        entry_container.appendChild(date);
        entry_container.appendChild(description);
      }

      var first_entry = result.feed.entries[0];
      $('.detail-title').html(first_entry.title).parent().attr('href', first_entry.link);
      $('.detail-author').html(first_entry.author);
      $('.detail-date').html(first_entry.publishedDate);
      $('.detail-content').html(first_entry.content);
      $('#iframe').attr('src', first_entry.mediaGroups[0].contents[0].url);
      $('.entry-container:first').css("background-color", "#FAFAFA");
    }
  });
}

google.setOnLoadCallback(initialize);

$(document).on('click', '.entry-container', function(){
  var order = this.getAttribute('data-order');
  var current_entry = result.feed.entries[order];
  $('.detail-title').html(current_entry.title).parent().attr('href', current_entry.link);
  $('.detail-author').html(current_entry.author);
  $('.detail-date').html(current_entry.publishedDate);
  $('.detail-content').html(current_entry.content);
  $('#iframe').attr('src', current_entry.mediaGroups[0].contents[0].url);
  $('.entry-container').css("background-color", "#F4F4F4");
  $(this).css("background-color", "#FAFAFA");
});

</script>
